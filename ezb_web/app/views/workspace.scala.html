@(listproj:List[(EzbProject,Ezoombook)], listpro:List[(EzbProject,Ezoombook)], listezb:List[Ezoombook], listmyb:List[Book], userGroups:List[Group], colabGroups:List[Group], groupForm:Form[(String, String)])(implicit session:Session, context:Context)

@import utils.EzbHelpers._
@import helper._
@import ezbhelper._
@import utils.MD5Util
@import utils.DateFormatter._

@scripts = {
<script type="text/javascript">//<![CDATA[
    $(document).ready(function(){
    $('#btnAddAuth').click(function () {
    cloner('authors');
    });
    $('#btnAddLang').click(function () {
    cloner('languages');
    });
    $('#btnAddPublshr').click(function () {
    cloner('publishers');
    });
    $('#btnAddPubDate').click(function () {
    cloner('published_dates');
    });
    $('#btnAddTag').click(function () {
    cloner('tags');
    });
    });

    function toggle(divtag){
    if(document.getElementById(divtag).style.display=="none"){
    document.getElementById(divtag).style.display="block";
    } else {
    document.getElementById(divtag).style.display="none";
    }
    }
    //]]>
</script>
}

@main(Messages("workspace.title"), scripts){

<center><h1>@session.get("userName")'s Workspace</h1></center>

<div class="row">
<div class="span3">
    @defining(MD5Util.md5Hex(context.user.map(u => u.email).getOrElse("ezoomwiki.com"))){icon =>
    <img src="https://www.gravatar.com/avatar/@icon?s=250&amp;d=identicon">
    }
    </br>
    <table class="table table-striped">
        <tbody>
        <tr>
            <th><i class="icon-envelope"></i>&nbsp;Message</th>
            <th>author</th>
            <th>date</th>
            <th></th>
        </tr>

        </tbody>
    </table>
</div>


<div class="span9">

    <ul class="nav nav-tabs">
        <li class="active"><a href="#tab1" data-toggle="tab"><i class="icon-edit"></i>&nbsp;@Messages("workspace.tab.contribution.title")</a></li>
        <li><a href="#tab2" data-toggle="tab"><i class="icon-globe"></i>&nbsp;@Messages("workspace.tab.community.title")</a></li>
        <li><a href="#tab3" data-toggle="tab"><i class="icon-book"></i>&nbsp;@Messages("workspace.tab.books.title")</a></li>
    </ul>
    <div class="tab-content">
        <div class="tab-pane active" id="tab1">  <!-- Projects Tab -->
            <h2>@Messages("workspace.projects.h2")</h2>

            <table class="table table-striped">
                <tbody>
                <tr>
                    <th>@Messages("workspace.projects.project.th")</th>

                    <th>eZoomBook</th>
                    <th>@Messages("workspace.projects.creationdate.th")</th>
                </tr>
                @for(g<-listproj) {

                <tr>
                    <td>@g._1.projectName</td>
                    <td>@g._2.ezoombook_title</td>
                    <td>@dateFormat(g._1.projectCreationDate, "dd-MM-yyyy")</td>
                </tr>
                }
                @for(g<-listpro) {

                <tr>
                    <td>@g._1.projectName</td>
                    <td>@g._2.ezoombook_title</td>
                    <td>@dateFormat(g._1.projectCreationDate, "dd-MM-yyyy")</td>
                </tr>
                }
                </tbody>
            </table>
            </br>
            <h2>@Messages("workspace.ezoombooks.h2")</h2>

            <table class="table table-striped">
                <tbody>
                <tr>
                    <th>@Messages("workspace.ezoombooks.name.th")</th>

                    <th></th>
                </tr>
                @for(g<-listezb){
                <tr>
                    <td><a href="/read/@g.ezoombook_id">@g.ezoombook_title</a></td>
                    <td>
                        <div class="btn-group">
                            <a href="@routes.EzoomBooks.ezoomBookEdit(g.ezoombook_id.toString)"
                               class="btn" title='@Messages("book.ezoombooks.edit.button")'>
                                <i class="icon-pencil"></i></a>
                            <a href="@routes.EzoomBooks.ezoomBookDelete(g.ezoombook_id.toString)"
                               class="btn" title="@Messages("workspace.ezoombooks.delete.button")">
                                <i class="icon-remove"></i>
                            </a>
                        </div>
                    </td>
                </tr>
                }
                </tbody>
            </table>

        </div>
        <div class="tab-pane" id="tab2"> <!-- Friends Tab -->
            <h2>@Messages("workspace.friends.h2")</h2>
            <p><a>@Messages("workspace.friends.add.link")</a></p>
            <table class="table table-striped">
                <tbody>
                <tr>
                    <th>@Messages("workspace.friends.name.th")</th>
                    <th>@Messages("workspace.friends.group.th")</th>
                    <th>@Messages("workspace.friends.favbook.th")</th>
                    <th></th>
                </tr>
                <tr>
                    <td>Scot</td>
                    <td>Dantes group</td>
                    <td>Desperate Remedies, Alice in Wonderland</td>
                </tr>
                </tbody>
            </table>

            <h2>@Messages("workspace.groups.h2")</h2>

            <p><a>@Messages("workspace.groups.add.link")</a></p>
            <table class="table table-striped">
                <tbody>
                <tr>
                    <th>@Messages("workspace.groups.title.th")</th>
                    <th>@Messages("workspace.groups.youwon.th")</th>
                </tr>
                @for(g<-userGroups){
                <tr>
                    <td><a href="@routes.Community.group(g.id.toString())">@g.name</a></td>
                    <td>X</td>
                </tr>
                }

                @for(g<-colabGroups){
                <tr>
                    <td><a href="@routes.Community.group(g.id.toString())">@g.name</a></td>
                    <td></td>
                </tr>
                }
                </tbody>
            </table>
        </div>
        <div class="tab-pane" id="tab3"> <!-- Books Tab -->

            <h2>@Messages("workspace.books.h2")</h2>

            <table class="table table-striped">
                <tbody>
                <tr>
                    <th>@Messages("workspace.books.name.th")</th>
                    <th></th>
                </tr>
                @for(g<-listmyb){
                <tr>
                    <td><a href="/books/@g.bookId">@g.bookTitle</a></td>
                    <td><a href="/bookreedit/@g.bookId" class="btn" >@Messages("workspace.books.edit.button")</a></td>

                </tr>
                }
                </tbody>
            </table>

            <h2>@Messages("workspace.books.readinglist.h2")</h2>

            <table class="table table-striped">
                <tbody>
                <tr>
                    <th>@Messages("workspace.books.readinglist.title.th")</th>
                    <th></th>
                </tr>

                </tbody>
            </table>

            <h2>@Messages("workspace.books.favorites.h2")</h2>

            <table class="table table-striped">
                <tbody>
                <tr>
                    <th>@Messages("workspace.books.favorites.title.th")</th>
                    <th></th>
                </tr>

                </tbody>
            </table>

        </div>
    </div>

</div>
</div>

}
